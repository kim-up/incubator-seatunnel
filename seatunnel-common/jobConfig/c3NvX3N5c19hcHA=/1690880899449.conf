env {
  execution.parallelism = 1
  job.mode = "STREAMING"
  checkpoint.interval = 5000
}

source {
  MySQL-CDC {
    result_table_name = "binlog"
    format= "compatible_debezium_json"
    #format= "default"
    parallelism = 1
    username = "otter"
    password = "Hfdhje6FEe34$#nhfGFD"
    table-names = ["sso.sys_app"]
    base-url = "jdbc:mysql://10.70.20.176:3306/sso"
    debezium {
        snapshot.mode = "never"
        value.converter.binlog.enable = true
        database.server.name =  "mysql_binlog_source"    }
  }
}

transform {
}

sink {
    kafka {
       # topic = "seatunnel"
        bootstrap.servers = "10.70.20.196:9092,10.70.21.211:9092,10.70.21.108:9092"
        format = compatible_debezium_json
        kafka.request.timeout.ms = 60000
        #semantics = EXACTLY_ONCE
        kafka.config = {
          acks = "all"
          request.timeout.ms = 60000
          buffer.memory = 33554432
        }
    }
}